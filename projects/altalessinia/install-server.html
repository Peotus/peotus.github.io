<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="description" content="">

    <meta name="google-site-verification" content="ymsKWIByZwVM2syCo8GY12rz8UKMiEaEmMGH-DqDO4A" />

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Installazione server altalessinia - Peotus Matteo Grobberio</title>

    <link rel="icon" href="../images/favicon.ico">

    <link rel="stylesheet" type="text/css" href="/assets/css/reset.css" />
    <!-- <link rel="stylesheet" type="text/css" href="assets/css/grid.compress.css" /> -->
    <link rel="stylesheet" type="text/css" href="/assets/milligram.css" />


  </head>

  <body>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117254143-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117254143-1');
</script>

    
<div class="container">
  <div class="row">
    <div class="column">
      <h1 id="passaggi">Passaggi:</h1>

<p>Setup del server centOS 7 per gestione delle webcam di altalessinia </p>

<h3 id="abilitareftp">Abilitare ftp</h3>

<pre><code class=" shell language- shell">yum -y update
yum install nano

yum -y install vsftpd
</code></pre>

<blockquote>
  <p>Copiare il config di vsftpd</p>
</blockquote>

<h3 id="creareuser">Creare user</h3>

<pre><code class=" shell language- shell">adduser username
passwd username
</code></pre>

<pre><code class=" shell language- shell">systemctl restart vsftpd
systemctl enable vsftpd
</code></pre>

<h3 id="installarepip">Installare pip</h3>

<pre><code class=" shell language- shell">sudo yum install epel-release -y 
  yum -y install python-pip
</code></pre>

<h3 id="installarenodejs">Installare Node js</h3>

<pre><code class=" shell language- shell">curl --silent --location https://rpm.nodesource.com/setup_8.x | sudo bash -
sudo yum -y install nodejs
sudo yum install gcc-c++ make
</code></pre>

<h3 id="installffmpeg">Install ffmpeg</h3>

<pre><code class=" shell language- shell">
sudo rpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro
sudo rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm
sudo yum install ffmpeg ffmpeg-devel -y
</code></pre>

<h3 id="installsupervisor">Install supervisor</h3>

<pre><code class=" shell language- shell">pip install supervisor
mkdir -p /etc/supervisor/conf.d
echo_supervisord_conf &gt; /etc/supervisor/supervisord.conf
echo "files = conf.d/*.conf" &gt;&gt; /etc/supervisor/supervisord.conf
wget https://raw.githubusercontent.com/Peotus/peotus.github.io/master/assets/supervisord.service -O /usr/lib/systemd/system/supervisord.service

systemctl start supervisord
systemctl enable supervisord


mkdir /var/log/supervisor/

sudo nano /etc/supervisor/supervisord.conf


[program:cam_hotellessinia]
command = node hotel_lessinia.js
directory = /home/altalessinia/cams
user = root
autostart = true
autorestart = true
stdout_logfile = /var/log/supervisor/hotel_lessinia.log
stderr_logfile = /var/log/supervisor/hotel_lessinia.err
logfile_backups = 0
logfile_maxbytes = 1000000



[program:watchdog_bosco]
command = python -u watchdog.py
directory = /home/altalessinia/cams
user = root
autostart = true
autorestart = true
stdout_logfile = /var/log/supervisor/watchdog_bosco.log
stderr_logfile = /var/log/supervisor/watchdog_bosco.err
logfile_backups = 0
logfile_maxbytes = 1000000


supervisorctl reload


</code></pre>
    </div>
  </div>
</div>


<footer>
  <div>
  Developer in Verona - Page under construction - <a href="http://twitter.com/MGrobberio">Tweet me</a></div>
</footer>
  </body>
</html>
